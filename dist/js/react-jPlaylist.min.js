var ReactJPlaylist=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e){e.exports=PropTypes},function(e){e.exports=Recompose},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertTime=t.canSetVolume=t.limitValue=t.getElementOffset=t.toRelativePercentage=t.toPercentage=t.classes=t.formatArtistAndTitle=t.connectWithIndex=t.connectWithId=void 0;var i=r(n(9)),o=r(n(10)),u=r(n(11)),l=r(n(12)),c=r(n(13)),a=r(n(14)),s=r(n(15)),d=r(n(16)),f=r(n(17)),p=r(n(18));t.connectWithId=i.default,t.connectWithIndex=o.default,t.formatArtistAndTitle=u.default,t.classes=l.default,t.toPercentage=c.default,t.toRelativePercentage=a.default,t.getElementOffset=s.default,t.limitValue=d.default,t.canSetVolume=f.default,t.convertTime=p.default},function(e){e.exports=React},function(e){e.exports=ReactJPlayer},function(e){e.exports=ReactRedux},function(e){e.exports=_.merge},function(e){e.exports=classNames},function(e){e.exports=_.maxBy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(){return(0,i.compose)((0,i.getContext)({id:o.default.string}),r.connect.apply(void 0,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(){return(0,i.compose)((0,i.getContext)({id:o.default.string,index:o.default.number}),r.connect.apply(void 0,arguments))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="";return e&&(n+=""+e),t&&(e&&(n+=" - "),n+=""+t),n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={HIDDEN:"jp-hidden"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e/t*100}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e*(t/100)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{top:e.getBoundingClientRect().top+document.body.scrollTop,left:e.getBoundingClientRect().left+document.body.scrollLeft}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new window.Audio;return e.volume=.5,.5===e.volume}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Number.isNaN(e))return"";var n=new Date(1e3*e),r=n.getUTCHours(),i=t.showHour?n.getUTCMinutes():n.getUTCMinutes()+60*r,o=t.showMin?n.getUTCSeconds():n.getUTCSeconds()+60*i,u=t.padHour&&10>r?"0"+r:r,l=t.padMin&&10>i?"0"+i:i,c=t.padSec&&10>o?"0"+o:o,a="";return a+=t.showHour?u+t.sepHour:"",a+=t.showMin?l+t.sepMin:"",a+=t.showSec?c+t.sepSec:""}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?r(t,!0).forEach(function(n){o(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?l(t,!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var p={};n.r(p),n.d(p,"actionNames",function(){return P}),n.d(p,"classes",function(){return v}),n.d(p,"defaultStatus",function(){return m}),n.d(p,"defaultOptions",function(){return j});var y={};n.r(y),n.d(y,"setOption",function(){return q}),n.d(y,"setPlaylist",function(){return Y}),n.d(y,"add",function(){return H}),n.d(y,"remove",function(){return U}),n.d(y,"clear",function(){return W}),n.d(y,"select",function(){return F}),n.d(y,"play",function(){return V}),n.d(y,"shuffle",function(){return J}),n.d(y,"next",function(){return B}),n.d(y,"previous",function(){return X});var h=n(6),O=n.n(h),b=n(4),P={SET_PLAYLIST:"JPLAYLIST_SET_PLAYLIST",SET_OPTION:"JPLAYLIST_SET_PLAYLIST_OPTION",ADD:"JPLAYLIST_ADD",REMOVE:"JPLAYLIST_REMOVE",CLEAR:"JPLAYLIST_CLEAR",SELECT:"JPLAYLIST_SELECT",PLAY:"JPLAYLIST_PLAY",SHUFFLE:"JPLAYLIST_SHUFFLE",NEXT:"JPLAYLIST_NEXT",PREVIOUS:"JPLAYLIST_PREVIOUS"},v={SHUFFLE:"jp-shuffle",PREVIOUS:"jp-previous",NEXT:"jp-next",TOGGLE_PLAYLIST:"jp-toggle-playlist",PLAYLIST:"jp-playlist",REMOVE:"jp-remove",MEDIA_LINK:"jp-media-link",CURRENT:"jp-current",states:{LOOPED_PLAYLIST:"jp-state-looped-playlist",SHUFFLED:"jp-state-shuffled"}},m={current:0,shuffled:!1},j={loopOnPrevious:!0,shuffleOnLoop:!0,loop:"loop-playlist",hidePlaylist:!1,playlist:[]},g={},E=function(e,t){if(g[e.id]=O()({},m,j,t),Array.isArray(t.playlist)){var n=t.playlist[0];return Object(b.initializeOptions)(i({},e,{media:n}))}return Object(b.initializeOptions)(e)},L=n(8),T=n.n(L),S=function(e,t){return a({},t.key,t.value)},_=function(e,t){return{current:0,shuffled:!1,playlist:t.playlist.map(function(e,t){return c({},e,{shufflePosition:t})})}},I=function(e,t){var n=t.media,r=t.playNow,i=T()(e.playlist,"shufflePosition"),o=c({},n,{shufflePosition:void 0===i?0:i.shufflePosition+1}),l=[].concat(u(e.playlist),[o]),a=e.current;return r?a=l.length-1:1===l.length&&(a=0),{playlist:l,playNow:r,current:a}},R=function(e,t){var n=t.index,r=u(e.playlist),i=e.current,o=e.shuffled;return r.splice(n,1),r.length?n===e.current?i=n<r.length?e.current:r.length-1:n<e.current&&(i-=1):o=!1,{playlist:r,current:i,shuffled:o}},w=function(){return{playlist:[]}},N=function(e,t){var n=t.index;return{current:0>n?e.playlist.length+n:n}},x=function(e,t){var n=t.index,r=void 0===n?e.current:n;return{current:0>r?e.playlist.length+r:r,playNow:!0}},A=function(e,t){var n=t.shuffled,r=void 0===n?!e.shuffled:n,i=t.playNow,o=t.shuffleSort;return{playlist:r?u(e.playlist).sort(function(){return o}):u(e.playlist).sort(function(e,t){return e.shufflePosition-t.shufflePosition}),shuffled:r,playNow:i}},M=function(e){var t="loop-playlist"===e.loop?0:e.current,n=e.current+1<e.playlist.length,r=!0;return n||"off"!==e.loop||(r=!1),{current:n?e.current+1:t,playNow:r}},C=function(e){var t=e.loopOnPrevious?e.playlist.length-1:e.current;return 0<=e.current-1&&(t=e.current-1),{current:t,playNow:!0}},D=function(e,t,n){var r=n(e[t.id],t),i=e[t.id];return c({},e,a({},t.id,c({},i,{},r)))},k=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g,t=1<arguments.length?arguments[1]:void 0,n=function(n){return D(e,t,n)};switch(t.type){case P.SET_OPTION:return n(S);case P.SET_PLAYLIST:return n(_);case P.ADD:return n(I);case P.REMOVE:return n(R);case P.CLEAR:return n(w);case P.SELECT:return n(N);case P.PLAY:return n(x);case P.SHUFFLE:return n(A);case P.NEXT:return n(M);case P.PREVIOUS:return n(C);default:return e}},q=function(e,t,n){return{type:P.SET_OPTION,id:e,key:t,value:n}},Y=function(e,t){return{type:P.SET_PLAYLIST,id:e,playlist:t}},H=function(e,t,n){return{type:P.ADD,id:e,media:t,playNow:n}},U=function(e,t){return{type:P.REMOVE,id:e,index:t}},W=function(e){return{type:P.CLEAR,id:e}},F=function(e,t){return{type:P.SELECT,id:e,index:t}},V=function(e,t){return{type:P.PLAY,id:e,index:t}},J=function(e,t,n){return{type:P.SHUFFLE,id:e,shuffled:t,playNow:n,shuffleSort:.5-Math.random()}},B=function(e){return{type:P.NEXT,id:e}},X=function(e){return{type:P.PREVIOUS,id:e}},G=n(0),z=n.n(G),K=n(5),Q=n(1),Z=n(3),$=n.n(Z),ee=n(2),te=function(e){var t=e.keyBindings,n=e.children;return $.a.cloneElement($.a.Children.only(n),{keyBindings:t})};te.propTypes={children:z.a.element.isRequired,keyBindings:z.a.object.isRequired};var ne=function(e){return"off"===e?"loop":"loop"===e?"loop-playlist":"off"},re=Object(ee.connectWithId)(function(e,t){return{loop:e.jPlaylists[t.id].loop}},null,function(e,t,n){var r=t.dispatch,i=n.keyBindings,o=n.children,u=n.id;return{keyBindings:O()({next:{key:221,fn:function(){return r(B(u))}},previous:{key:219,fn:function(){return r(X(u))}},shuffle:{key:83,fn:function(){return r(J(u,void 0,!0))}},loop:{key:76,fn:function(){var t=ne(e.loop);r(q(u,"loop",t))}}},i),children:o}})(te),ie=function(e){var t=e.states,n=e.keyBindings,r=e.children,i=e.id;return $.a.createElement(re,{keyBindings:n},$.a.cloneElement($.a.Children.only(r),{states:t,id:i}))};ie.defaultProps={keyBindings:null},ie.propTypes={id:z.a.string.isRequired,states:z.a.object.isRequired,keyBindings:z.a.object,children:z.a.element.isRequired};var oe=ie,ue={id:z.a.string,internalEvents:z.a.shape({onEnded:z.a.func})},le=Object(Q.compose)(Object(K.connect)(function(e,t){var n,r=e.jPlayers,i=e.jPlaylists,o=t.id;return{playNow:i[o].playNow,shuffled:i[o].shuffled,loop:i[o].loop,shuffleOnLoop:i[o].shuffleOnLoop,focused:r[o].focused,playlist:i[o].playlist,current:i[o].current,id:o,states:(n={},s(n,v.states.LOOPED_PLAYLIST,"loop-playlist"===i[o].loop),s(n,v.states.SHUFFLED,i[o].shuffled),n)}}),Object(Q.withProps)(function(e){var t=e.playlist,n=e.current;return{currentMediaId:0<t.length?t[n].id:null}}),Object(Q.withHandlers)({setLoop:function(e){return function(){"loop"===e.loop?e.dispatch(b.actions.setOption(e.id,"loop",!0)):e.dispatch(b.actions.setOption(e.id,"loop",!1))}},playNext:function(e){return function(){return e.dispatch(B(e.id))}},playMediaNow:function(e){return function(){e.dispatch(b.actions.play(e.id)),e.dispatch(q(e.id,"playNow",!1))}},changeMedia:function(e){return function(){0<e.playlist.length&&e.dispatch(b.actions.setMedia(e.id,e.playlist[e.current]))}},shufflePlaylistOnLoopPlaylist:function(e){return function(){"loop-playlist"===e.loop&&0===e.current&&e.shuffled&&e.shuffleOnLoop&&e.dispatch(J(e.id,!0,!0))}},clearMediaWhenPlaylistEmpty:function(e){return function(){0===e.playlist.length&&e.dispatch(b.actions.clearMedia(e.id))}}}),Object(Q.withContext)(ue,function(e){return{id:e.id,internalEvents:{onEnded:e.playNext}}}),Object(Q.lifecycle)({componentDidMount:function(){0<this.props.playlist.length&&this.props.dispatch(Y(this.props.id,this.props.playlist))},componentDidUpdate:function(e){this.props.currentMediaId!==e.currentMediaId&&this.props.changeMedia(),this.props.playlist.length!==e.playlist.length&&this.props.clearMediaWhenPlaylistEmpty(),this.props.loop!==e.loop&&this.props.setLoop(),this.props.playNow&&this.props.playMediaNow(),this.props.currentMediaId!==e.currentMediaId&&e.current===e.playlist.length-1&&this.props.shufflePlaylistOnLoopPlaylist()}}))(oe),ce=n(7),ae=n.n(ce),se=function(e){var t=e.className,n=e.children;return $.a.createElement("li",{className:t},n)};se.propTypes={className:z.a.string.isRequired,children:z.a.node.isRequired};var de=Object(Q.compose)(Object(Q.withContext)({index:z.a.number},function(e){return{index:e.index}}),Object(ee.connectWithId)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{className:ae()(d({},v.CURRENT,n[r].current===i))}}))(se),fe=function(e){var t=e.playlist,n=e.children,r=e.className;return $.a.createElement("ul",{className:r},t.map(function(e,t){return $.a.createElement(de,{key:e.id,index:t},n)}))};fe.propTypes={className:z.a.string.isRequired,playlist:z.a.arrayOf(z.a.shape({title:z.a.string,artist:z.a.string,sources:z.a.object.isRequired,poster:z.a.string,id:z.a.oneOfType([z.a.string.isRequired,z.a.number.isRequired]).isRequired,free:z.a.bool})).isRequired,children:z.a.node.isRequired};var pe=Object(Q.compose)(Object(Q.branch)(function(e){return 0<e.playlist.length},Object(Q.renderComponent)(fe)))(Object(Q.renderNothing)(null)),ye=Object(ee.connectWithId)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.className;return{playlist:n[r].playlist,className:ae()(i,v.PLAYLIST,f({},ee.classes.HIDDEN,n[r].hidePlaylist))}})(pe),he=function(e){var t=e.shuffle,n=e.children;return $.a.createElement("button",{className:v.SHUFFLE,onClick:t},n)};he.propTypes={children:z.a.node.isRequired,shuffle:z.a.func.isRequired};var Oe=he,be=Object(Q.compose)(Object(ee.connectWithId)(null,{shuffle:J}),Object(Q.withHandlers)({shuffle:function(e){return function(){return e.shuffle(e.id,void 0,!0)}}}))(Oe),Pe=function(e){var t=e.previous,n=e.children;return $.a.createElement("button",{className:v.PREVIOUS,onClick:t},n)};Pe.propTypes={children:z.a.node.isRequired,previous:z.a.func.isRequired};var ve=Pe,me=Object(Q.compose)(Object(ee.connectWithId)(null,{previous:X}),Object(Q.withHandlers)({previous:function(e){return function(){return e.previous(e.id)}}}))(ve),je=function(e){var t=e.next,n=e.children;return $.a.createElement("button",{className:v.NEXT,onClick:t},n)};je.propTypes={children:z.a.node.isRequired,next:z.a.func.isRequired};var ge=je,Ee=Object(Q.compose)(Object(ee.connectWithId)(null,{next:B}),Object(Q.withHandlers)({next:function(e){return function(){return e.next(e.id)}}}))(ge),Le=Object(Q.compose)(Object(ee.connectWithId)(function(e,t){return{loop:e.jPlaylists[t.id].loop}},{setOption:q}),Object(Q.withHandlers)({loop:function(e){return function(){return e.setOption(e.id,"loop",ne(e.loop))}}}))(b.RepeatComponent),Te=function(e){var t=e.togglePlaylist,n=e.children;return $.a.createElement("button",{className:v.TOGGLE_PLAYLIST,onClick:t},n)};Te.propTypes={children:z.a.node.isRequired,togglePlaylist:z.a.func.isRequired};var Se=Te,_e=Object(Q.compose)(Object(ee.connectWithId)(function(e,t){return{hidePlaylist:e.jPlaylists[t.id].hidePlaylist}},{setOption:q}),Object(Q.withHandlers)({togglePlaylist:function(e){return function(){return e.setOption(e.id,"hidePlaylist",!e.hidePlaylist)}}}))(Se),Ie=function(e){var t=e.remove,n=e.children;return $.a.createElement("button",{className:v.REMOVE,onClick:t},n)};Ie.defaultProps={children:"×"},Ie.propTypes={children:z.a.node,remove:z.a.func.isRequired};var Re=Ie,we=Object(Q.compose)(Object(ee.connectWithIndex)(null,{remove:U}),Object(Q.withHandlers)({remove:function(e){return function(){return e.remove(e.id,e.index)}}}))(Re),Ne=function(e){var t=e.play,n=e.children;return $.a.createElement("button",{className:v.MEDIA_LINK,onClick:t},n)};Ne.propTypes={children:z.a.node.isRequired,play:z.a.func.isRequired};var xe=Ne,Ae=Object(Q.compose)(Object(ee.connectWithIndex)(null,{play:V}),Object(Q.withHandlers)({play:function(e){return function(){e.play(e.id,e.index)}}}))(xe),Me=Object(ee.connectWithIndex)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{src:n[r].playlist[i].poster}})(b.PosterComponent),Ce=Object(ee.connectWithIndex)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{title:Object(ee.formatArtistAndTitle)(n[r].playlist[i].artist,n[r].playlist[i].title)}})(b.TitleComponent);n.d(t,"JPlaylistComponent",function(){return oe}),n.d(t,"PlaylistComponent",function(){return pe}),n.d(t,"ShuffleComponent",function(){return Oe}),n.d(t,"PreviousComponent",function(){return ve}),n.d(t,"NextComponent",function(){return ge}),n.d(t,"TogglePlaylistComponent",function(){return Se}),n.d(t,"RemoveComponent",function(){return Re}),n.d(t,"MediaLinkComponent",function(){return xe}),n.d(t,"initializeOptions",function(){return E}),n.d(t,"reducer",function(){return k}),n.d(t,"actions",function(){return y}),n.d(t,"constants",function(){return p}),n.d(t,"Playlist",function(){return ye}),n.d(t,"Shuffle",function(){return be}),n.d(t,"Previous",function(){return me}),n.d(t,"Next",function(){return Ee}),n.d(t,"Repeat",function(){return Le}),n.d(t,"TogglePlaylist",function(){return _e}),n.d(t,"Remove",function(){return we}),n.d(t,"MediaLink",function(){return Ae}),n.d(t,"Poster",function(){return Me}),n.d(t,"Title",function(){return Ce}),t.default=le}]);