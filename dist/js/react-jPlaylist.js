var ReactJPlaylist=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=PropTypes},function(e,t){e.exports=Recompose},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertTime=t.canSetVolume=t.limitValue=t.getElementOffset=t.toRelativePercentage=t.toPercentage=t.classes=t.formatArtistAndTitle=t.connectWithIndex=t.connectWithId=void 0;var r=p(n(9)),i=p(n(10)),o=p(n(11)),u=p(n(12)),l=p(n(13)),c=p(n(14)),a=p(n(15)),s=p(n(16)),d=p(n(17)),f=p(n(18));function p(e){return e&&e.__esModule?e:{default:e}}t.connectWithId=r.default,t.connectWithIndex=i.default,t.formatArtistAndTitle=o.default,t.classes=u.default,t.toPercentage=l.default,t.toRelativePercentage=c.default,t.getElementOffset=a.default,t.limitValue=s.default,t.canSetVolume=d.default,t.convertTime=f.default},function(e,t){e.exports=React},function(e,t){e.exports=ReactJPlayer},function(e,t){e.exports=ReactRedux},function(e,t){e.exports=_.merge},function(e,t){e.exports=classNames},function(e,t){e.exports=_.maxBy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5),o=n(1),u=n(0),l=(r=u)&&r.__esModule?r:{default:r};t.default=function(){return(0,o.compose)((0,o.getContext)({id:l.default.string}),i.connect.apply(void 0,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5),o=n(1),u=n(0),l=(r=u)&&r.__esModule?r:{default:r};t.default=function(){return(0,o.compose)((0,o.getContext)({id:l.default.string,index:l.default.number}),i.connect.apply(void 0,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="";return e&&(n+=""+e),t&&(e&&(n+=" - "),n+=""+t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={HIDDEN:"jp-hidden"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e/t*100}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e*(t/100)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{top:e.getBoundingClientRect().top+document.body.scrollTop,left:e.getBoundingClientRect().left+document.body.scrollLeft}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new window.Audio;return e.volume=.5,.5===e.volume}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Number.isNaN(e))return"";var n=new Date(1e3*e),r=n.getUTCHours(),i=t.showHour?n.getUTCMinutes():n.getUTCMinutes()+60*r,o=t.showMin?n.getUTCSeconds():n.getUTCSeconds()+60*i,u=t.padHour&&r<10?"0"+r:r,l=t.padMin&&i<10?"0"+i:i,c=t.padSec&&o<10?"0"+o:o,a="";return a+=t.showHour?u+t.sepHour:"",a+=t.showMin?l+t.sepMin:"",a+=t.showSec?c+t.sepSec:""}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"actionNames",function(){return c}),n.d(r,"classes",function(){return a}),n.d(r,"defaultStatus",function(){return s}),n.d(r,"defaultOptions",function(){return d});var i={};n.r(i),n.d(i,"setOption",function(){return M}),n.d(i,"setPlaylist",function(){return C}),n.d(i,"add",function(){return D}),n.d(i,"remove",function(){return k}),n.d(i,"clear",function(){return q}),n.d(i,"select",function(){return Y}),n.d(i,"play",function(){return H}),n.d(i,"shuffle",function(){return U}),n.d(i,"next",function(){return W}),n.d(i,"previous",function(){return F});var o=n(6),u=n.n(o),l=n(4),c={SET_PLAYLIST:"JPLAYLIST_SET_PLAYLIST",SET_OPTION:"JPLAYLIST_SET_PLAYLIST_OPTION",ADD:"JPLAYLIST_ADD",REMOVE:"JPLAYLIST_REMOVE",CLEAR:"JPLAYLIST_CLEAR",SELECT:"JPLAYLIST_SELECT",PLAY:"JPLAYLIST_PLAY",SHUFFLE:"JPLAYLIST_SHUFFLE",NEXT:"JPLAYLIST_NEXT",PREVIOUS:"JPLAYLIST_PREVIOUS"},a={SHUFFLE:"jp-shuffle",PREVIOUS:"jp-previous",NEXT:"jp-next",TOGGLE_PLAYLIST:"jp-toggle-playlist",PLAYLIST:"jp-playlist",REMOVE:"jp-remove",MEDIA_LINK:"jp-media-link",CURRENT:"jp-current",states:{LOOPED_PLAYLIST:"jp-state-looped-playlist",SHUFFLED:"jp-state-shuffled"}},s={current:0,shuffled:!1},d={loopOnPrevious:!0,shuffleOnLoop:!0,loop:"loop-playlist",hidePlaylist:!1,playlist:[]};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={},h=function(e,t){if(y[e.id]=u()({},s,d,t),Array.isArray(t.playlist)){var n=t.playlist[0];return Object(l.initializeOptions)(function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?f(t,!0).forEach(function(n){p(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}({},e,{media:n}))}return Object(l.initializeOptions)(e)},O=n(8),b=n.n(O);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?P(t,!0).forEach(function(n){j(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e,t){return j({},t.key,t.value)},E=function(e,t){return{current:0,shuffled:!1,playlist:t.playlist.map(function(e,t){return m({},e,{shufflePosition:t})})}},L=function(e,t){var n=t.media,r=t.playNow,i=b()(e.playlist,"shufflePosition"),o=m({},n,{shufflePosition:void 0===i?0:i.shufflePosition+1}),u=[].concat(v(e.playlist),[o]),l=e.current;return r?l=u.length-1:1===u.length&&(l=0),{playlist:u,playNow:r,current:l}},T=function(e,t){var n=t.index,r=v(e.playlist),i=e.current,o=e.shuffled;return r.splice(n,1),r.length?n===e.current?i=n<r.length?e.current:r.length-1:n<e.current&&(i-=1):o=!1,{playlist:r,current:i,shuffled:o}},S=function(){return{playlist:[]}},_=function(e,t){var n=t.index;return{current:0>n?e.playlist.length+n:n}},I=function(e,t){var n=t.index,r=void 0===n?e.current:n;return{current:0>r?e.playlist.length+r:r,playNow:!0}},R=function(e,t){var n=t.shuffled,r=void 0===n?!e.shuffled:n,i=t.playNow,o=t.shuffleSort;return{playlist:r?v(e.playlist).sort(function(){return o}):v(e.playlist).sort(function(e,t){return e.shufflePosition-t.shufflePosition}),shuffled:r,playNow:i}},w=function(e){var t="loop-playlist"===e.loop?0:e.current,n=e.current+1<e.playlist.length,r=!0;return n||"off"!==e.loop||(r=!1),{current:n?e.current+1:t,playNow:r}},N=function(e){var t=e.loopOnPrevious?e.playlist.length-1:e.current;return 0<=e.current-1&&(t=e.current-1),{current:t,playNow:!0}},x=function(e,t,n){var r=n(e[t.id],t),i=e[t.id];return m({},e,j({},t.id,m({},i,{},r)))},A=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y,t=1<arguments.length?arguments[1]:void 0,n=function(n){return x(e,t,n)};switch(t.type){case c.SET_OPTION:return n(g);case c.SET_PLAYLIST:return n(E);case c.ADD:return n(L);case c.REMOVE:return n(T);case c.CLEAR:return n(S);case c.SELECT:return n(_);case c.PLAY:return n(I);case c.SHUFFLE:return n(R);case c.NEXT:return n(w);case c.PREVIOUS:return n(N);default:return e}},M=function(e,t,n){return{type:c.SET_OPTION,id:e,key:t,value:n}},C=function(e,t){return{type:c.SET_PLAYLIST,id:e,playlist:t}},D=function(e,t,n){return{type:c.ADD,id:e,media:t,playNow:n}},k=function(e,t){return{type:c.REMOVE,id:e,index:t}},q=function(e){return{type:c.CLEAR,id:e}},Y=function(e,t){return{type:c.SELECT,id:e,index:t}},H=function(e,t){return{type:c.PLAY,id:e,index:t}},U=function(e,t,n){return{type:c.SHUFFLE,id:e,shuffled:t,playNow:n,shuffleSort:.5-Math.random()}},W=function(e){return{type:c.NEXT,id:e}},F=function(e){return{type:c.PREVIOUS,id:e}},V=n(0),J=n.n(V),B=n(5),X=n(1),G=n(3),z=n.n(G),K=n(2),Q=function(e){var t=e.keyBindings,n=e.children;return z.a.cloneElement(z.a.Children.only(n),{keyBindings:t})};Q.propTypes={children:J.a.element.isRequired,keyBindings:J.a.object.isRequired};var Z=Q,$=function(e){return"off"===e?"loop":"loop"===e?"loop-playlist":"off"},ee=Object(K.connectWithId)(function(e,t){return{loop:e.jPlaylists[t.id].loop}},null,function(e,t,n){var r=t.dispatch,i=n.keyBindings,o=n.children,l=n.id;return{keyBindings:u()({next:{key:221,fn:function(){return r(W(l))}},previous:{key:219,fn:function(){return r(F(l))}},shuffle:{key:83,fn:function(){return r(U(l,void 0,!0))}},loop:{key:76,fn:function(){var t=$(e.loop);r(M(l,"loop",t))}}},i),children:o}})(Z),te=function(e){var t=e.states,n=e.keyBindings,r=e.children,i=e.id;return z.a.createElement(ee,{keyBindings:n},z.a.cloneElement(z.a.Children.only(r),{states:t,id:i}))};te.defaultProps={keyBindings:null},te.propTypes={id:J.a.string.isRequired,states:J.a.object.isRequired,keyBindings:J.a.object,children:J.a.element.isRequired};var ne=te;function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={setLoop:function(e){return function(){"loop"===e.loop?e.dispatch(l.actions.setOption(e.id,"loop",!0)):e.dispatch(l.actions.setOption(e.id,"loop",!1))}},playNext:function(e){return function(){return e.dispatch(W(e.id))}},playMediaNow:function(e){return function(){e.dispatch(l.actions.play(e.id)),e.dispatch(M(e.id,"playNow",!1))}},changeMedia:function(e){return function(){0<e.playlist.length&&e.dispatch(l.actions.setMedia(e.id,e.playlist[e.current]))}},shufflePlaylistOnLoopPlaylist:function(e){return function(){"loop-playlist"===e.loop&&0===e.current&&e.shuffled&&e.shuffleOnLoop&&e.dispatch(U(e.id,!0,!0))}},clearMediaWhenPlaylistEmpty:function(e){return function(){0===e.playlist.length&&e.dispatch(l.actions.clearMedia(e.id))}}},oe={id:J.a.string,internalEvents:J.a.shape({onEnded:J.a.func})},ue={componentDidMount:function(){0<this.props.playlist.length&&this.props.dispatch(C(this.props.id,this.props.playlist))},componentDidUpdate:function(e){this.props.currentMediaId!==e.currentMediaId&&this.props.changeMedia(),this.props.playlist.length!==e.playlist.length&&this.props.clearMediaWhenPlaylistEmpty(),this.props.loop!==e.loop&&this.props.setLoop(),this.props.playNow&&this.props.playMediaNow(),this.props.currentMediaId!==e.currentMediaId&&e.current===e.playlist.length-1&&this.props.shufflePlaylistOnLoopPlaylist()}},le=Object(X.compose)(Object(B.connect)(function(e,t){var n,r=e.jPlayers,i=e.jPlaylists,o=t.id;return{playNow:i[o].playNow,shuffled:i[o].shuffled,loop:i[o].loop,shuffleOnLoop:i[o].shuffleOnLoop,focused:r[o].focused,playlist:i[o].playlist,current:i[o].current,id:o,states:(n={},re(n,a.states.LOOPED_PLAYLIST,"loop-playlist"===i[o].loop),re(n,a.states.SHUFFLED,i[o].shuffled),n)}}),Object(X.withProps)(function(e){var t=e.playlist,n=e.current;return{currentMediaId:0<t.length?t[n].id:null}}),Object(X.withHandlers)(ie),Object(X.withContext)(oe,function(e){return{id:e.id,internalEvents:{onEnded:e.playNext}}}),Object(X.lifecycle)(ue))(ne),ce=n(7),ae=n.n(ce),se=function(e){var t=e.className,n=e.children;return z.a.createElement("li",{className:t},n)};se.propTypes={className:J.a.string.isRequired,children:J.a.node.isRequired};var de=se;function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=Object(X.compose)(Object(X.withContext)({index:J.a.number},function(e){return{index:e.index}}),Object(K.connectWithId)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{className:ae()(fe({},a.CURRENT,n[r].current===i))}}))(de),ye=function(e){var t=e.playlist,n=e.children,r=e.className;return z.a.createElement("ul",{className:r},t.map(function(e,t){return z.a.createElement(pe,{key:e.id,index:t},n)}))};ye.propTypes={className:J.a.string.isRequired,playlist:J.a.arrayOf(J.a.shape({title:J.a.string,artist:J.a.string,sources:J.a.object.isRequired,poster:J.a.string,id:J.a.oneOfType([J.a.string.isRequired,J.a.number.isRequired]).isRequired,free:J.a.bool})).isRequired,children:J.a.node.isRequired};var he=Object(X.compose)(Object(X.branch)(function(e){return 0<e.playlist.length},Object(X.renderComponent)(ye)))(Object(X.renderNothing)(null));function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=Object(K.connectWithId)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.className;return{playlist:n[r].playlist,className:ae()(i,a.PLAYLIST,Oe({},K.classes.HIDDEN,n[r].hidePlaylist))}})(he),ve=function(e){var t=e.shuffle,n=e.children;return z.a.createElement("button",{className:a.SHUFFLE,onClick:t},n)};ve.propTypes={children:J.a.node.isRequired,shuffle:J.a.func.isRequired};var Pe=ve,me=Object(X.compose)(Object(K.connectWithId)(null,{shuffle:U}),Object(X.withHandlers)({shuffle:function(e){return function(){return e.shuffle(e.id,void 0,!0)}}}))(Pe),je=function(e){var t=e.previous,n=e.children;return z.a.createElement("button",{className:a.PREVIOUS,onClick:t},n)};je.propTypes={children:J.a.node.isRequired,previous:J.a.func.isRequired};var ge=je,Ee=Object(X.compose)(Object(K.connectWithId)(null,{previous:F}),Object(X.withHandlers)({previous:function(e){return function(){return e.previous(e.id)}}}))(ge),Le=function(e){var t=e.next,n=e.children;return z.a.createElement("button",{className:a.NEXT,onClick:t},n)};Le.propTypes={children:J.a.node.isRequired,next:J.a.func.isRequired};var Te=Le,Se=Object(X.compose)(Object(K.connectWithId)(null,{next:W}),Object(X.withHandlers)({next:function(e){return function(){return e.next(e.id)}}}))(Te),_e={loop:function(e){return function(){return e.setOption(e.id,"loop",$(e.loop))}}},Ie=Object(X.compose)(Object(K.connectWithId)(function(e,t){return{loop:e.jPlaylists[t.id].loop}},{setOption:M}),Object(X.withHandlers)(_e))(l.RepeatComponent),Re=function(e){var t=e.togglePlaylist,n=e.children;return z.a.createElement("button",{className:a.TOGGLE_PLAYLIST,onClick:t},n)};Re.propTypes={children:J.a.node.isRequired,togglePlaylist:J.a.func.isRequired};var we=Re,Ne=Object(X.compose)(Object(K.connectWithId)(function(e,t){return{hidePlaylist:e.jPlaylists[t.id].hidePlaylist}},{setOption:M}),Object(X.withHandlers)({togglePlaylist:function(e){return function(){return e.setOption(e.id,"hidePlaylist",!e.hidePlaylist)}}}))(we),xe=function(e){var t=e.remove,n=e.children;return z.a.createElement("button",{className:a.REMOVE,onClick:t},n)};xe.defaultProps={children:"Ã—"},xe.propTypes={children:J.a.node,remove:J.a.func.isRequired};var Ae=xe,Me=Object(X.compose)(Object(K.connectWithIndex)(null,{remove:k}),Object(X.withHandlers)({remove:function(e){return function(){return e.remove(e.id,e.index)}}}))(Ae),Ce=function(e){var t=e.play,n=e.children;return z.a.createElement("button",{className:a.MEDIA_LINK,onClick:t},n)};Ce.propTypes={children:J.a.node.isRequired,play:J.a.func.isRequired};var De=Ce,ke=Object(X.compose)(Object(K.connectWithIndex)(null,{play:H}),Object(X.withHandlers)({play:function(e){return function(){e.play(e.id,e.index)}}}))(De),qe=Object(K.connectWithIndex)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{src:n[r].playlist[i].poster}})(l.PosterComponent),Ye=Object(K.connectWithIndex)(function(e,t){var n=e.jPlaylists,r=t.id,i=t.index;return{title:Object(K.formatArtistAndTitle)(n[r].playlist[i].artist,n[r].playlist[i].title)}})(l.TitleComponent);n.d(t,"JPlaylistComponent",function(){return ne}),n.d(t,"PlaylistComponent",function(){return he}),n.d(t,"ShuffleComponent",function(){return Pe}),n.d(t,"PreviousComponent",function(){return ge}),n.d(t,"NextComponent",function(){return Te}),n.d(t,"TogglePlaylistComponent",function(){return we}),n.d(t,"RemoveComponent",function(){return Ae}),n.d(t,"MediaLinkComponent",function(){return De}),n.d(t,"initializeOptions",function(){return h}),n.d(t,"reducer",function(){return A}),n.d(t,"actions",function(){return i}),n.d(t,"constants",function(){return r}),n.d(t,"Playlist",function(){return be}),n.d(t,"Shuffle",function(){return me}),n.d(t,"Previous",function(){return Ee}),n.d(t,"Next",function(){return Se}),n.d(t,"Repeat",function(){return Ie}),n.d(t,"TogglePlaylist",function(){return Ne}),n.d(t,"Remove",function(){return Me}),n.d(t,"MediaLink",function(){return ke}),n.d(t,"Poster",function(){return qe}),n.d(t,"Title",function(){return Ye});t.default=le}]);